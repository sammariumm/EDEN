<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="dashboard.css" />
</head>
<body>
    <nav>
        <a href="/dashboard.html">Dashboard</a> |
        <a href="/store.html">Store</a> |
        <a href="/job_listings.html">Job Listings</a> |
        <a href="#" onclick="logout()">Logout</a>
    </nav>

    <h1 id="welcome"></h1>

    <!-- Logout button -->
    <button id="logoutBtn">Logout</button>

    <!-- USER DASHBOARD -->
    <section id="userDashboard" style="display:none;">
        <h2>User Dashboard</h2>

        <h3>Request Job Listing</h3>
        <form id="jobRequestForm">
            <input type="text" id="jobTitle" placeholder="Title" required />
            <textarea id="jobDescription" placeholder="Description" required></textarea>
            <input type="number" id="hourlyRate" placeholder="Hourly Rate" step="0.01" required />
            <input type="file" id="jobImage" accept="image/*" />
            <button type="submit">Submit Job Request</button>
        </form>

        <h3>Request Store Posting</h3>
        <form id="storeRequestForm">
            <input type="text" id="storeTitle" placeholder="Title" required />
            <textarea id="storeDescription" placeholder="Description" required></textarea>
            <input type="number" id="price" placeholder="Price" step="0.01" required />
            <select id="storeSubcategory" required>
                <option value="" disabled selected>Select Category</option>
                <option value="tools">Tools</option>
                <option value="decoration">Decoration</option>
                <option value="plants">Plants</option>
                <option value="flowers">Flowers</option>
                <option value="miscellaneous">Miscellaneous</option>
            </select>
            <input type="file" id="storeImage" accept="image/*" />
            <button type="submit">Submit Store Request</button>
        </form>

        <h3>Your Requests</h3>
        <table>
          <thead>
            <tr>
              <th>Type</th>
              <th>Title</th>
              <th>Details</th>
              <th>Status</th>
              <th>Image</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="userRequests"></tbody>
        </table>

        <h3>Applications to Your Job Listings</h3>
        <table>
            <thead>
                <tr>
                    <th>Job Title</th>
                    <th>Applicant Name</th>
                    <th>Applicant Email</th>
                    <th>Submitted At</th>
                    <th>Resume</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="userApplications"></tbody>
        </table>
    </section>

    <!-- ADMIN DASHBOARD -->
    <section id="adminDashboard" style="display:none;">
        <h2>Admin Dashboard</h2>

        <h3>Pending Requests</h3>
        <table>
            <thead>
                <tr>
                    <th>User</th>
                    <th>Type</th>
                    <th>Details</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="adminRequests"></tbody>
        </table>

        <h3>Applications to Your Job Listings</h3>
        <table>
            <thead>
                <tr>
                    <th>Job Title</th>
                    <th>Applicant Name</th>
                    <th>Applicant Email</th>
                    <th>Submitted At</th>
                    <th>Resume</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="adminApplications"></tbody>
        </table>

        <h3>All Posts</h3>
        <table>
            <thead>
                <tr>
                    <th>User</th>
                    <th>Type</th>
                    <th>Title</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="adminAllPosts"></tbody>
        </table>
    </section>

    <script src="js/dashboard.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            document.getElementById('logoutBtn').addEventListener('click', () => {
                logout();
            });
        });
    </script>

</body>
</html>

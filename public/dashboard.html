<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <link rel="stylesheet" href="css/dashboard.css" />
</head>
<body>

  <!-- NAV -->
  <nav>
    <div class="navigation">
      <a href="index.html">Home</a>
      <a href="eventservices.html">Event Services</a>
      <a href="job_listings.html">Job Listings</a>
      <a href="store.html">Store</a>
      <a href="about.html">About</a>
      <a href="login.html">Login</a>
    </div>
  </nav>

  <h1 id="welcome"></h1>
  <button id="logoutBtn">Logout</button>

  <!-- ==========================
       USER DASHBOARD
  ========================== -->
  <section id="userDashboard" style="display:none;">
    <h2>User Dashboard</h2>

    <!-- JOB REQUEST -->
    <h3>Request Job Listing</h3>
    <form id="jobRequestForm" enctype="multipart/form-data">
      <input type="hidden" id="jobRequestId" name="id" />   <!-- optional, but good for edit mode -->

      <input type="text" id="jobTitle" name="title" placeholder="Title" required />
      <textarea id="jobDescription" name="description" placeholder="Description" required></textarea>
      <input type="number" id="hourlyRate" name="hourly_rate" placeholder="Hourly Rate" step="0.01" required />
      <input type="file" id="jobImage" name="image" accept="image/*" />

      <button type="submit" id="jobSubmitBtn">Submit Job Request</button>
      <button type="button" id="jobCancelEditBtn" style="display:none;">Cancel Edit</button>
    </form>

    <!-- STORE REQUEST -->
    <h3>Request Store Posting</h3>
    <form id="storeRequestForm" enctype="multipart/form-data">
      <input type="hidden" id="storeRequestId" />

      <input type="text" id="storeTitle" placeholder="Title" required />
      <textarea id="storeDescription" placeholder="Description" required></textarea>
      <input type="number" id="price" placeholder="Price" step="0.01" required />

      <select id="storeSubcategory" required>
        <option value="" disabled selected>Select Category</option>
        <option value="tools">Tools</option>
        <option value="decoration">Decoration</option>
        <option value="plants">Plants</option>
        <option value="flowers">Flowers</option>
        <option value="miscellaneous">Miscellaneous</option>
      </select>

      <input type="file" id="storeImage" accept="image/*" />

      <button type="submit" id="storeSubmitBtn">Submit Store Request</button>
      <button type="button" id="storeCancelEditBtn" style="display:none;">Cancel Edit</button>
    </form>

    <!-- USER REQUESTS -->
    <h3>Your Requests</h3>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Title</th>
          <th>Details</th>
          <th>Status</th>
          <th>Image</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="userRequests"></tbody>
    </table>

    <!-- USER APPLICATIONS -->
    <h3>Applications to Your Job Listings</h3>
    <table>
      <thead>
        <tr>
          <th>Job Title</th>
          <th>Applicant Name</th>
          <th>Applicant Email</th>
          <th>Submitted At</th>
          <th>Resume</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="userApplications"></tbody>
    </table>
  </section>

  <!-- ==========================
       ADMIN DASHBOARD
  ========================== -->
  <section id="adminDashboard" style="display:none;">
    <h2>Admin Dashboard</h2>

    <!-- PENDING REQUESTS -->
    <h3>Pending Requests</h3>
    <table>
      <thead>
        <tr>
          <th>User</th>
          <th>Type</th>
          <th>Details</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="adminRequests"></tbody>
    </table>

    <!-- ADMIN APPLICATIONS -->
    <h3>Applications to Your Job Listings</h3>
    <table>
      <thead>
        <tr>
          <th>Job Title</th>
          <th>Applicant Name</th>
          <th>Applicant Email</th>
          <th>Submitted At</th>
          <th>Resume</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="adminApplications"></tbody>
    </table>

    <!-- ALL POSTS -->
    <h3>All Posts</h3>
    <table>
      <thead>
        <tr>
          <th>User</th>
          <th>Type</th>
          <th>Title</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="adminAllPosts"></tbody>
    </table>
  </section>

  <!-- ADMIN EDIT MODAL -->
<div id="adminEditModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" onclick="closeAdminEdit()">&times;</span>

    <h3>Edit Post</h3>

    <form id="adminEditForm">
      <input type="hidden" id="adminEditId" />

      <input type="text" id="adminEditTitle" placeholder="Title" required />
      <textarea id="adminEditDescription" placeholder="Description" required></textarea>

      <!-- Job listing -->
      <input
        type="number"
        id="adminEditHourlyRate"
        placeholder="Hourly Rate"
        step="0.01"
        style="display:none;"
      />

      <!-- Store -->
      <input
        type="number"
        id="adminEditPrice"
        placeholder="Price"
        step="0.01"
        style="display:none;"
      />

      <select id="adminEditSubcategory" style="display:none;">
        <option value="">Select category</option>
        <option value="tools">Tools</option>
        <option value="decoration">Decoration</option>
        <option value="plants">Plants</option>
        <option value="flowers">Flowers</option>
        <option value="miscellaneous">Miscellaneous</option>
      </select>

      <input type="file" id="adminEditImage" accept="image/*" />

      <div class="modal-actions">
        <button type="submit">Save Changes</button>
        <button type="button" onclick="closeAdminEdit()">Cancel</button>
      </div>
    </form>
  </div>
</div>

  <!-- SCRIPT -->
  <script src="js/dashboard.js" defer></script>

</body>
</html>
